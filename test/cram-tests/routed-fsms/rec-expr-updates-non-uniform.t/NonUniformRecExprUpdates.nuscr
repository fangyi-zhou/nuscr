(*# CheckDirectedChoiceDisabled, RefinementTypes, ValidateRefinementProgress, ValidateRefinementSatisfiability #*)

global protocol NonUniformRecExprUpdates(role C, role A, role B, role D) {
  rec Loop [count<D>: int = 0] {
    oo() from C to D;
    m(i: int{i = count}) from D to B;
    mj() from B to C;
    choice at C {
      jj() from C to A;
      dsjlk() from C to B;
      fj() from B to C;
      continue Loop [count + 2];
    } or {
      adf() from C to A;
      fj() from C to B;
      jsl() from B to C;
      continue Loop [count + 1];
    }
  }   
}